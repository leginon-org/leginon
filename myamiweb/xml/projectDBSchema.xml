<!--
-
- Default Table XML-Dump
- http://ami.scripps.edu/ 
-
- Tables: 
-	boxtypes
-	grids
-	gridboxes
-	gridlocations
-	processingdb
-	projects
-	pis
-	confirmauth
-	projectexperiments
-
-->

<defaulttables>
 <definition>
  <sqltable name="install" >
    <field 
      name="key" 
      type="varchar(100)" 
      null="NOT NULL" 
    />
    <field 
      name="value" 
      type="varchar(100)" 
      null="NOT NULL" 
    />
    <key>KEY (`key`)</key>
	</sqltable>
  <sqltable name="boxtypes" >
    <field 
      name="boxtypeId" 
      type="int(11)" 
      null="NOT NULL" 
      extra="auto_increment" 
    />
    <field 
      name="timestamp" 
      type="timestamp" 
      default="DEFAULT 'CURRENT_TIMESTAMP'" 
    />
    <field 
      name="label" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="image" 
      type="varchar(100)" 
      default="DEFAULT '0'" 
      null="NOT NULL" 
    />
    <field 
      name="image_tiny" 
      type="varchar(100)" 
      null="NOT NULL" 
    />
    <key>PRIMARY KEY (`boxtypeId`)</key>
  </sqltable>
  <sqltable name="grids" >
    <field 
      name="gridId" 
      type="int(11)" 
      null="NOT NULL" 
      extra="auto_increment" 
    />
    <field 
      name="timestamp" 
      type="timestamp" 
      default="DEFAULT 'CURRENT_TIMESTAMP'" 
    />
    <field 
      name="label" 
      type="varchar(255)" 
      null="NULL" 
    />
    <field 
      name="prepdate" 
      type="timestamp" 
      null="NULL" 
    />
    <field 
      name="specimenId" 
      type="int(11)" 
      default="DEFAULT '0'" 
      null="NULL" 
    />
    <field 
      name="substrate" 
      type="varchar(100)" 
      null="NULL" 
    />
    <field 
      name="preparation" 
      type="varchar(100)" 
      null="NULL" 
    />
    <field 
      name="number" 
      type="varchar(10)" 
      null="NULL" 
    />
    <field 
      name="concentration" 
      type="double" 
      null="NULL" 
    />
    <field 
      name="fraction" 
      type="text" 
      null="NULL" 
    />
    <field 
      name="note" 
      type="text" 
      null="NULL" 
    />
    <field 
      name="sort" 
      type="text" 
      null="NULL" 
    />
    <field 
      name="boxId" 
      type="int(11)" 
      null="NULL" 
    />
    <field 
      name="projectId" 
      type="int(20)" 
      null="NULL" 
    />
    <field 
      name="specimen" 
      type="varchar(255)" 
      null="NULL" 
    />
    <key>PRIMARY KEY (`gridId`)</key>
    <key>KEY `label` (`label`)</key>
  </sqltable>
  <sqltable name="gridboxes" >
    <field 
      name="gridboxId" 
      type="int(11)" 
      null="NOT NULL" 
      extra="auto_increment" 
    />
    <field 
      name="timestamp" 
      type="timestamp" 
      default="DEFAULT 'CURRENT_TIMESTAMP'" 
    />
    <field 
      name="label" 
      type="text" 
      null="NULL" 
    />
    <field 
      name="boxtypeId" 
      type="int(11)" 
      default="DEFAULT '0'" 
      null="NULL" 
    />
    <field 
      name="container" 
      type="text" 
      null="NULL" 
    />
    <key>PRIMARY KEY (`gridboxId`)</key>
  </sqltable>
  <sqltable name="gridlocations" >
    <field 
      name="gridlocationId" 
      type="int(11)" 
      null="NOT NULL" 
      extra="auto_increment" 
    />
    <field 
      name="gridboxId" 
      type="int(11)" 
      null="NULL" 
    />
    <field 
      name="gridId" 
      type="int(11)" 
      null="NULL" 
    />
    <field 
      name="location" 
      type="int(11)" 
      null="NULL" 
    />
    <key>PRIMARY KEY (`gridlocationId`)</key>
  </sqltable>
  <sqltable name="processingdb" >
    <field 
      name="id" 
      type="int(20)" 
      null="NOT NULL" 
      extra="auto_increment" 
    />
    <field
      name="projectId" 
      type="int(20)" 
    />
    <field 
      name="db" 
      type="varchar(50)" 
    />
    <key>PRIMARY KEY (`id`)</key>
    <key>KEY `projectId` (`projectId`)</key>
  </sqltable>
  <sqltable name="userdetails" >
    <field 
      name="DEF_id" 
      type="int(11)" 
      null="NOT NULL" 
      extra="auto_increment" 
    />
    <field 
      name="DEF_timestamp" 
      type="timestamp" 
      default="DEFAULT 'CURRENT_TIMESTAMP'" 
    />
    <field
      name="REF|leginondata|UserData|user" 
      type="int(20)" 
    />
    <field 
      name="title" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="institution" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="dept" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="address" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="city" 
      type="text" 
      null="NOT NULL" 
    ></field>
    <field 
      name="statecountry" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="zip" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="phone" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="fax" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="url" 
      type="text" 
      null="NOT NULL" 
    />
    <key>PRIMARY KEY (`DEF_id`)</key>
    <key>KEY `DEF_timestamp` (`DEF_timestamp`)</key>
    <key>KEY `REF|leginondata|UserData|user` (`REF|leginondata|UserData|user`)</key>
  </sqltable>
  <sqltable name="projects" >
    <field 
      name="projectId" 
      type="int(11)" 
      null="NOT NULL" 
      extra="auto_increment" 
    />
    <field 
      name="timestamp" 
      type="timestamp" 
      default="DEFAULT 'CURRENT_TIMESTAMP'" 
    />
    <field 
      name="name" 
      type="varchar(255)" 
      null="NOT NULL" 
    />
    <field 
      name="short_description" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="long_description" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="category" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="funding" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="db" 
      type="varchar(50)" 
    />
    <key>PRIMARY KEY (`projectId`)</key>
  </sqltable>
    <sqltable name="pis" >
    <field 
      name="piId" 
      type="int(11)" 
      null="NOT NULL" 
      extra="auto_increment" 
    />
    <field 
      name="projectId" 
      type="int(11)"
      null="NOT NULL" 
      default="0" 
    />
    <field 
      name="username" 
      type="varchar(25)" 
      null="NOT NULL" 
      default="0"
    />
    <key>PRIMARY KEY (`piId`)</key>
  </sqltable>
  <sqltable name="confirmauth" >
    <field 
      name="mdhash" 
      type="longtext" 
      null="NOT NULL"
    />
    <field 
      name="username" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="password" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="firstname" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="lastname" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="email" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="date" 
      type="timestamp" 
      default="DEFAULT 'CURRENT_TIMESTAMP'" 
    />
  </sqltable>  
  <sqltable name="projectexperiments" >
    <field 
      name="projectexperimentId" 
      type="int(11)" 
      null="NOT NULL" 
      extra="auto_increment" 
    />
    <field 
      name="projectId" 
      type="int(11)" 
      default="DEFAULT '0'" 
      null="NOT NULL" 
    />
    <field 
      name="name" 
      type="varchar(100)" 
      default="DEFAULT '0'" 
      null="NOT NULL" 
    />
    <field 
      name="experimentsourceId" 
      type="int(11)" 
      null="NULL" 
    />
    <key>PRIMARY KEY (`projectexperimentId`)</key>
    <key>KEY `projectId` (`projectId`)</key>
    <key>KEY `name` (`name`)</key>
  </sqltable>
  <sqltable name="shareexperiments" >
    <field 
      name="DEF_id" 
      type="int(11)" 
      null="NOT NULL" 
      extra="auto_increment" 
    />
    <field 
      name="DEF_timestamp" 
      type="timestamp" 
      default="DEFAULT 'CURRENT_TIMESTAMP'" 
    />
    <field 
      name="REF|leginondata|SessionData|experiment" 
      type="int(11)" 
      default="DEFAULT '0'"
      null="NOT NULL" 
    />
    <field 
      name="REF|leginondata|UserData|user" 
      type="int(11)" 
      default="DEFAULT '0'" 
      null="NOT NULL" 
    />
    <key>PRIMARY KEY (`DEF_id`)</key>
    <key>KEY `DEF_timestamp` (`DEF_timestamp`)</key>
    <key>KEY `REF|leginondata|SessionData|experiment` (`REF|leginondata|SessionData|experiment`)</key>
    <key>KEY `REF|leginondata|UserData|user` (`REF|leginondata|UserData|user`)</key>
  </sqltable>
  <sqltable name="projectowners" >
    <field 
      name="DEF_id" 
      type="int(16)" 
      null="NOT NULL" 
      extra="auto_increment" 
    />
    <field 
      name="DEF_timestamp" 
      type="timestamp" 
      default="DEFAULT 'CURRENT_TIMESTAMP'" 
    />
    <field 
      name="REF|projects|project" 
      type="int(16)" 
      null="NOT NULL" 
    />
    <field 
      name="REF|leginondata|UserData|user" 
      type="int(16)" 
      null="NOT NULL" 
    />
    <key>PRIMARY KEY (`DEF_id`)</key>
    <key>KEY `DEF_timestamp` (`DEF_timestamp`)</key>
    <key>KEY `REF|projects|project` (`REF|projects|project`)</key>
    <key>KEY `REF|leginondata|UserData|user` (`REF|leginondata|UserData|user`)</key>
  </sqltable>
  <sqltable name="privileges" >
    <field 
      name="DEF_id" 
      type="int(16)" 
      null="NOT NULL" 
      extra="auto_increment" 
    />
    <field 
      name="DEF_timestamp" 
      type="timestamp" 
      default="DEFAULT 'CURRENT_TIMESTAMP'" 
    />
    <field 
      name="description" 
      type="text" 
      null="NOT NULL" 
    />
    <field 
      name="groups" 
      type="tinyint(4)" 
      null="NOT NULL" 
    />
    <field 
      name="users" 
      type="tinyint(4)" 
      null="NOT NULL" 
    />
    <field 
      name="projects" 
      type="tinyint(4)" 
      null="NOT NULL" 
    />
    <field 
      name="projectowners" 
      type="tinyint(4)" 
      null="NOT NULL" 
    />
    <field 
      name="shareexperiments" 
      type="tinyint(4)" 
      null="NOT NULL" 
    />
    <field 
      name="data" 
      type="tinyint(4)" 
      null="NOT NULL" 
    />
    <field 
      name="gridboxes" 
      type="tinyint(4)" 
      null="NOT NULL" 
    />
    <key>PRIMARY KEY (`DEF_id`)</key>
    <key>KEY `DEF_timestamp` (`DEF_timestamp`)</key>
	</sqltable>

 </definition>
</defaulttables>
